name: TruffleHog Secret Scan

on:
  workflow_dispatch:

jobs:
  trufflehog:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout full history
        uses: actions/checkout@v3
        with:
          fetch-depth: 0   # âœ… get entire git history

      - name: Run TruffleHog on git history
        uses: trufflesecurity/trufflehog@main
        with:
          scan: git
          path: ${{ github.workspace }}
